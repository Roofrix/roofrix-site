import{a as K}from"./chunk-GWCAXF66.js";import{d as q,f as $}from"./chunk-FTFMUACC.js";import{b as z,d as G}from"./chunk-6VCXNJ72.js";import{b as j,c as k,d as H,e as U,g as B,h as W,i as Z,j as Q,n as Y,p as J}from"./chunk-QESJGVXS.js";import{g as V,h as D,k as X}from"./chunk-BDAGTHR3.js";import{$a as S,Ga as F,K as R,La as g,P as y,Sa as l,Ta as n,U as u,Ua as i,V as f,Va as m,W as _,X as v,a as P,ab as h,b as M,ba as A,cb as p,eb as N,fb as E,gb as T,hb as x,jb as s,kb as C,lb as O,ua as c}from"./chunk-U4S3JRSN.js";var w=class o{firestoreService=y(q);REPORT_TYPES_COLLECTION="reportTypes";ADDONS_COLLECTION="addons";STRUCTURE_TYPES_COLLECTION="structureTypes";STRUCTURE_CATEGORIES=[{id:"basic",name:"Basic Structure",description:"Small residential properties",sqRange:"< 30 SQs",minSq:0,maxSq:30},{id:"moderate",name:"Moderate Structure",description:"Medium-sized residential properties",sqRange:"30 - 60 SQs",minSq:30,maxSq:60},{id:"complex",name:"Complex / Commercial Structure",description:"Large residential or commercial properties",sqRange:"> 60 SQs",minSq:60,maxSq:null}];CATEGORY_PRICING={basic:{reportTypes:[{id:"roof_esx_only",name:"Roof ESX only",description:"ESX format",price:14},{id:"roof_esx_pdf",name:"Roof ESX+PDF",description:"ESX with PDF report",price:19},{id:"roof_xml_only",name:"Roof XML only",description:"XML format",price:14},{id:"roof_xml_pdf",name:"Roof XML+PDF",description:"XML with PDF report",price:19},{id:"wall_esx_x1",name:"Wall ESX only (X1)",description:"Single wall ESX",price:33},{id:"wall_esx_pdf_x1",name:"Wall ESX+PDF (X1)",description:"Single wall ESX with PDF",price:42},{id:"wall_esx_x2",name:"Wall ESX only (X2)",description:"Double wall ESX",price:33},{id:"wall_esx_pdf_x2",name:"Wall ESX+PDF (X2)",description:"Double wall ESX with PDF",price:42}],addons:[{id:"basic_rush_2h",name:"2-Hour Rush",price:20,badge:"URGENT"},{id:"basic_fence",name:"Fence",price:8},{id:"basic_deck",name:"Deck",price:8}]},moderate:{reportTypes:[{id:"roof_esx_only",name:"Roof ESX only",description:"ESX format",price:14},{id:"roof_esx_pdf",name:"Roof ESX+PDF",description:"ESX with PDF report",price:19},{id:"roof_xml_only",name:"Roof XML only",description:"XML format",price:14},{id:"roof_xml_pdf",name:"Roof XML+PDF",description:"XML with PDF report",price:19},{id:"wall_esx_x1",name:"Wall ESX only (X1)",description:"Single wall ESX",price:33},{id:"wall_esx_pdf_x1",name:"Wall ESX+PDF (X1)",description:"Single wall ESX with PDF",price:42},{id:"wall_esx_x2",name:"Wall ESX only (X2)",description:"Double wall ESX",price:33},{id:"wall_esx_pdf_x2",name:"Wall ESX+PDF (X2)",description:"Double wall ESX with PDF",price:42}],addons:[{id:"moderate_rush_2h",name:"2-Hour Rush",price:30,badge:"URGENT"},{id:"moderate_fence",name:"Fence",price:12},{id:"moderate_deck",name:"Deck",price:12}]},complex:{reportTypes:[{id:"roof_esx_only",name:"Roof ESX only",description:"ESX format",price:14},{id:"roof_esx_pdf",name:"Roof ESX+PDF",description:"ESX with PDF report",price:19},{id:"roof_xml_only",name:"Roof XML only",description:"XML format",price:14},{id:"roof_xml_pdf",name:"Roof XML+PDF",description:"XML with PDF report",price:19},{id:"wall_esx_x1",name:"Wall ESX only (X1)",description:"Single wall ESX",price:33},{id:"wall_esx_pdf_x1",name:"Wall ESX+PDF (X1)",description:"Single wall ESX with PDF",price:42},{id:"wall_esx_x2",name:"Wall ESX only (X2)",description:"Double wall ESX",price:33},{id:"wall_esx_pdf_x2",name:"Wall ESX+PDF (X2)",description:"Double wall ESX with PDF",price:42}],addons:[{id:"complex_rush_2h",name:"2-Hour Rush",price:50,badge:"URGENT"},{id:"complex_fence",name:"Fence",price:20},{id:"complex_deck",name:"Deck",price:20}]}};getStructureCategories(){return this.STRUCTURE_CATEGORIES}getStructureCategory(t){return this.STRUCTURE_CATEGORIES.find(e=>e.id===t)}getPricingByCategory(t){let e=this.getStructureCategory(t),r=this.CATEGORY_PRICING[t];return!e||!r?null:{category:e,reportTypes:r.reportTypes.map((a,d)=>M(P({},a),{isActive:!0,sortOrder:d+1,createdAt:null,updatedAt:null})),addons:r.addons.map((a,d)=>M(P({},a),{isActive:!0,sortOrder:d+1,createdAt:null,updatedAt:null}))}}getCategoryDisplayName(t){return this.getStructureCategory(t)?.name||t}getReportTypes(){let{where:t,orderBy:e}=this.firestoreService.getQueryHelpers();return this.firestoreService.collectionListener(this.REPORT_TYPES_COLLECTION,[t("isActive","==",!0),e("sortOrder","asc")])}getAddons(){let{where:t,orderBy:e}=this.firestoreService.getQueryHelpers();return this.firestoreService.collectionListener(this.ADDONS_COLLECTION,[t("isActive","==",!0),e("sortOrder","asc")])}getStructureTypes(){let{where:t,orderBy:e}=this.firestoreService.getQueryHelpers();return this.firestoreService.collectionListener(this.STRUCTURE_TYPES_COLLECTION,[t("isActive","==",!0),e("sortOrder","asc")])}async initializeDefaultPricing(){let t=this.firestoreService.getTimestamp(),e=[{name:"Standard Roof Report",description:"ESX only",price:14,isActive:!0,sortOrder:1,createdAt:t,updatedAt:t},{name:"Complex Roof Report",description:"ESX only",price:18,isActive:!0,sortOrder:2,createdAt:t,updatedAt:t},{name:"Standard Roof Report",description:"XML only",price:14,isActive:!0,sortOrder:3,createdAt:t,updatedAt:t},{name:"Complex Roof Report",description:"XML only",price:18,isActive:!0,sortOrder:4,createdAt:t,updatedAt:t}],r=[{name:"PDF",price:5,isActive:!0,sortOrder:1,createdAt:t,updatedAt:t},{name:"Fence",price:5,isActive:!0,sortOrder:2,createdAt:t,updatedAt:t},{name:"Deck",price:5,isActive:!0,sortOrder:3,createdAt:t,updatedAt:t},{name:"Make it 2hr Rush",price:10,badge:"FAST",isActive:!0,sortOrder:4,createdAt:t,updatedAt:t}],a=[{name:"Main",isActive:!0,sortOrder:1},{name:"Main and Garage",isActive:!0,sortOrder:2}];for(let d=0;d<e.length;d++){let b=`report_type_${d+1}`;await this.firestoreService.setDocument(this.REPORT_TYPES_COLLECTION,b,e[d])}for(let d=0;d<r.length;d++){let b=`addon_${d+1}`;await this.firestoreService.setDocument(this.ADDONS_COLLECTION,b,r[d])}for(let d=0;d<a.length;d++){let b=`structure_type_${d+1}`;await this.firestoreService.setDocument(this.STRUCTURE_TYPES_COLLECTION,b,a[d])}console.log("Default pricing data initialized")}async updateReportTypePrice(t,e){let r=this.firestoreService.getTimestamp();await this.firestoreService.updateDocument(this.REPORT_TYPES_COLLECTION,t,{price:e,updatedAt:r})}async updateAddonPrice(t,e){let r=this.firestoreService.getTimestamp();await this.firestoreService.updateDocument(this.ADDONS_COLLECTION,t,{price:e,updatedAt:r})}async addReportType(t){let e=this.firestoreService.getTimestamp(),r=`report_type_${Date.now()}`;return await this.firestoreService.setDocument(this.REPORT_TYPES_COLLECTION,r,M(P({},t),{createdAt:e,updatedAt:e})),r}async addAddon(t){let e=this.firestoreService.getTimestamp(),r=`addon_${Date.now()}`;return await this.firestoreService.setDocument(this.ADDONS_COLLECTION,r,M(P({},t),{createdAt:e,updatedAt:e})),r}static \u0275fac=function(e){return new(e||o)};static \u0275prov=R({token:o,factory:o.\u0275fac,providedIn:"root"})};var ne=["mapElement"],ie=["addressInput"];function re(o,t){if(o&1&&(n(0,"p",9),s(1),i()),o&2){let e=p();c(),C(e.structureCategoryInfo.sqRange)}}function oe(o,t){o&1&&(n(0,"div",10),m(1,"div",11),n(2,"p"),s(3,"Loading pricing data..."),i()())}function ae(o,t){if(o&1&&(n(0,"div",12),_(),n(1,"svg",13),m(2,"path",14)(3,"polyline",15),i(),v(),n(4,"span"),s(5),i()()),o&2){let e=p();c(5),C(e.successMessage)}}function ce(o,t){if(o&1&&(n(0,"div",16),_(),n(1,"svg",13),m(2,"circle",17)(3,"line",18)(4,"line",19),i(),v(),n(5,"span"),s(6),i()()),o&2){let e=p();c(6),C(e.errorMessage)}}function se(o,t){if(o&1){let e=S();n(0,"div",53),h("mousedown",function(){let a=u(e).$implicit,d=p(4);return f(d.selectSearchResult(a))}),_(),n(1,"svg",54),m(2,"path",55)(3,"circle",56),i(),v(),n(4,"span"),s(5),i()()}if(o&2){let e=t.$implicit;c(5),C(e.display_name)}}function de(o,t){if(o&1&&(n(0,"div",51),g(1,se,6,1,"div",52),i()),o&2){let e=p(3);c(),l("ngForOf",e.searchResults)}}function le(o,t){if(o&1&&(n(0,"span",57),s(1),i()),o&2){let e=p(3);c(),O(" ",e.getErrorMessage("address")," ")}}function pe(o,t){o&1&&(_(),n(0,"svg",58),m(1,"path",55)(2,"circle",56),i())}function me(o,t){o&1&&(_(),n(0,"svg",58),m(1,"polyline",59),i())}function ge(o,t){if(o&1){let e=S();n(0,"div",40)(1,"p",41),s(2,"Search for the address and confirm the pin is correctly placed on the desired location."),i(),n(3,"div",42)(4,"input",43,0),h("input",function(){u(e);let a=p(2);return f(a.searchAddress())})("blur",function(){u(e);let a=p(2);return f(a.hideSearchResults())}),i(),g(6,de,2,1,"div",44)(7,le,2,1,"span",45),i(),n(8,"div",46),m(9,"div",47,1),i(),n(11,"p",48),s(12,"Click on the map or drag the pin to adjust the location, then confirm to proceed."),i(),n(13,"button",49),h("click",function(){u(e);let a=p(2);return f(a.confirmLocation())}),g(14,pe,3,0,"svg",50)(15,me,2,0,"svg",50),n(16,"span"),s(17),i()()()}if(o&2){let e=p(2);c(4),x("error",e.hasError("address","required")),c(2),l("ngIf",e.showSearchResults&&e.searchResults.length>0),c(),l("ngIf",e.getErrorMessage("address")),c(6),x("confirmed",e.locationConfirmed),l("disabled",!e.selectedLocation),c(),l("ngIf",!e.locationConfirmed),c(),l("ngIf",e.locationConfirmed),c(2),C(e.locationConfirmed?"Location Confirmed":"Confirm Location")}}function ue(o,t){if(o&1&&(n(0,"label",63),m(1,"input",64),n(2,"div",65)(3,"span",66),s(4),i(),n(5,"span",67),s(6),i()(),n(7,"span",68),s(8),i()()),o&2){let e,r=t.$implicit,a=p(3);x("selected",((e=a.orderForm.get("reportType"))==null?null:e.value)===r.id),c(),l("value",r.id),c(3),C(r.name),c(2),O("(",r.description,")"),c(2),O("$",r.price)}}function fe(o,t){o&1&&(n(0,"div",69),s(1," No report types available. Please contact support. "),i())}function _e(o,t){if(o&1&&(n(0,"div",40)(1,"div",60),g(2,ue,9,6,"label",61),i(),g(3,fe,2,0,"div",62),i()),o&2){let e=p(2);c(2),l("ngForOf",e.reportTypes),c(),l("ngIf",e.reportTypes.length===0)}}function he(o,t){if(o&1&&(n(0,"span",77),s(1),i()),o&2){let e=p().$implicit;c(),C(e.badge)}}function xe(o,t){if(o&1){let e=S();n(0,"label",72)(1,"input",73),h("change",function(){let a=u(e).$implicit,d=p(3);return f(d.toggleAddon(a))}),i(),n(2,"span",74),s(3),g(4,he,2,1,"span",75),i(),n(5,"span",76),s(6),i()()}if(o&2){let e=t.$implicit,r=p(3);x("selected",r.isAddonSelected(e.id)),c(),l("checked",r.isAddonSelected(e.id)),c(2),O(" ",e.name," "),c(),l("ngIf",e.badge),c(2),O("$",e.price)}}function ve(o,t){o&1&&(n(0,"div",69),s(1," No addons available. "),i())}function ye(o,t){if(o&1&&(n(0,"div",40)(1,"div",70),g(2,xe,7,6,"label",71),i(),g(3,ve,2,0,"div",62),i()),o&2){let e=p(2);c(2),l("ngForOf",e.addons),c(),l("ngIf",e.addons.length===0)}}function Ce(o,t){if(o&1&&(n(0,"div",40)(1,"div",78)(2,"label",79),m(3,"input",80)(4,"span",81),n(5,"span",82),s(6,"Main"),i()(),n(7,"label",79),m(8,"input",83)(9,"span",81),n(10,"span",82),s(11,"Main and Garage"),i()()()()),o&2){let e,r,a=p(2);c(2),x("selected",((e=a.orderForm.get("structureType"))==null?null:e.value)==="main"),c(5),x("selected",((r=a.orderForm.get("structureType"))==null?null:r.value)==="main_and_garage")}}function be(o,t){o&1&&(n(0,"div",40)(1,"div",84)(2,"div",85)(3,"label"),s(4,"Primary Pitch:"),i(),m(5,"input",86),i(),n(6,"div",85)(7,"label"),s(8,"Secondary Pitch:"),i(),m(9,"input",87),i()()())}function Oe(o,t){o&1&&(n(0,"div",40),m(1,"textarea",88),i())}function Se(o,t){if(o&1){let e=S();n(0,"div",99)(1,"div",100),_(),n(2,"svg",54),m(3,"path",101)(4,"polyline",102),i(),v(),n(5,"span"),s(6),i()(),n(7,"button",103),h("click",function(){let a=u(e).index,d=p(4);return f(d.removeFile(a))}),_(),n(8,"svg",54),m(9,"line",104)(10,"line",105),i()()()}if(o&2){let e=t.$implicit;c(6),C(e.name)}}function Pe(o,t){if(o&1&&(n(0,"div",97),g(1,Se,11,1,"div",98),i()),o&2){let e=p(3);c(),l("ngForOf",e.selectedFiles)}}function Me(o,t){if(o&1){let e=S();n(0,"div",40)(1,"div",89)(2,"label",90),_(),n(3,"svg",58),m(4,"path",91)(5,"polyline",92)(6,"line",93),i(),v(),n(7,"span"),s(8,"Choose files"),i(),n(9,"input",94),h("change",function(a){u(e);let d=p(2);return f(d.onFileSelect(a))}),i()(),n(10,"span",95),s(11,"JPG, PNG, PDF"),i()(),g(12,Pe,2,1,"div",96),i()}if(o&2){let e=p(2);c(12),l("ngIf",e.selectedFiles.length>0)}}function we(o,t){o&1&&(n(0,"span"),s(1,"Proceed to Checkout"),i())}function Ee(o,t){o&1&&(n(0,"span"),s(1,"Processing..."),i())}function Te(o,t){if(o&1){let e=S();n(0,"div",20)(1,"form",21),h("ngSubmit",function(){u(e);let a=p();return f(a.onSubmit())}),n(2,"div",22)(3,"div",23),h("click",function(){u(e);let a=p();return f(a.toggleSection("address"))}),n(4,"div",24)(5,"span",25),s(6,"1"),i(),n(7,"span"),s(8,"Enter Address and Confirm Pin"),i()(),_(),n(9,"svg",26),m(10,"polyline",27),i()(),g(11,ge,18,10,"div",28),i(),v(),n(12,"div",29)(13,"div",23),h("click",function(){u(e);let a=p();return f(a.toggleSection("reportType"))}),n(14,"div",24)(15,"span",25),s(16,"2"),i(),n(17,"span"),s(18,"Choose Report Type"),i()(),_(),n(19,"svg",26),m(20,"polyline",27),i()(),g(21,_e,4,2,"div",28),i(),v(),n(22,"div",29)(23,"div",23),h("click",function(){u(e);let a=p();return f(a.toggleSection("addons"))}),n(24,"div",24)(25,"span",25),s(26,"3"),i(),n(27,"span"),s(28,"Addons"),i(),n(29,"span",30),s(30,"(Optional)"),i()(),_(),n(31,"svg",26),m(32,"polyline",27),i()(),g(33,ye,4,2,"div",28),i(),v(),n(34,"div",29)(35,"div",23),h("click",function(){u(e);let a=p();return f(a.toggleSection("structureType"))}),n(36,"div",24)(37,"span",25),s(38,"4"),i(),n(39,"span"),s(40,"Structure Type"),i()(),_(),n(41,"svg",26),m(42,"polyline",27),i()(),g(43,Ce,12,4,"div",28),i(),v(),n(44,"div",29)(45,"div",23),h("click",function(){u(e);let a=p();return f(a.toggleSection("roofPitch"))}),n(46,"div",24)(47,"span",25),s(48,"5"),i(),n(49,"span"),s(50,"Specify Roof Pitch"),i(),n(51,"span",30),s(52,"(Optional)"),i()(),_(),n(53,"svg",26),m(54,"polyline",27),i()(),g(55,be,10,0,"div",28),i(),v(),n(56,"div",29)(57,"div",23),h("click",function(){u(e);let a=p();return f(a.toggleSection("instructions"))}),n(58,"div",24)(59,"span",25),s(60,"6"),i(),n(61,"span"),s(62,"Special Instructions"),i(),n(63,"span",30),s(64,"(Optional)"),i()(),_(),n(65,"svg",26),m(66,"polyline",27),i()(),g(67,Oe,2,0,"div",28),i(),v(),n(68,"div",29)(69,"div",23),h("click",function(){u(e);let a=p();return f(a.toggleSection("photos"))}),n(70,"div",24)(71,"span",25),s(72,"7"),i(),n(73,"span"),s(74,"Upload Photos"),i(),n(75,"span",30),s(76,"(Optional)"),i()(),_(),n(77,"svg",26),m(78,"polyline",27),i()(),g(79,Me,13,1,"div",28),i(),v(),n(80,"div",31)(81,"div",32)(82,"span",33),s(83,"Total:"),i(),n(84,"span",34),s(85),i()(),n(86,"div",35)(87,"div",36)(88,"span",33),s(89,"Total:"),i(),n(90,"span",34),s(91),i()(),n(92,"button",37),g(93,we,2,0,"span",38)(94,Ee,2,0,"span",38),i()(),n(95,"button",39),h("click",function(){u(e);let a=p();return f(a.addToCart())}),s(96," Add to Cart "),i()()()()}if(o&2){let e=p();c(),l("formGroup",e.orderForm),c(8),x("expanded",e.expandedSections.address),c(2),l("ngIf",e.expandedSections.address),c(8),x("expanded",e.expandedSections.reportType),c(2),l("ngIf",e.expandedSections.reportType),c(10),x("expanded",e.expandedSections.addons),c(2),l("ngIf",e.expandedSections.addons),c(8),x("expanded",e.expandedSections.structureType),c(2),l("ngIf",e.expandedSections.structureType),c(10),x("expanded",e.expandedSections.roofPitch),c(2),l("ngIf",e.expandedSections.roofPitch),c(10),x("expanded",e.expandedSections.instructions),c(2),l("ngIf",e.expandedSections.instructions),c(10),x("expanded",e.expandedSections.photos),c(2),l("ngIf",e.expandedSections.photos),c(6),O("$",e.getTotalPrice()),c(6),O("$",e.getTotalPrice()),c(),l("disabled",e.loading),c(),l("ngIf",!e.loading),c(),l("ngIf",e.loading),c(),l("disabled",e.loading)}}var ee=class o{mapElement;addressInput;fb=y(Y);authService=y($);orderService=y(K);pricingService=y(w);router=y(G);ngZone=y(A);routeSubscription;activatedRoute=y(z);orderForm;loading=!1;loadingPricing=!1;errorMessage="";successMessage="";map;marker;selectedLocation=null;locationConfirmed=!1;searchResults=[];showSearchResults=!1;expandedSections={address:!0,reportType:!0,addons:!0,structureType:!0,roofPitch:!0,instructions:!0,photos:!0};selectedStructureCategory="basic";structureCategoryInfo=null;reportTypes=[];addons=[];selectedAddons=new Map;selectedFiles=[];selectedProduct=null;ngOnInit(){this.orderForm=this.fb.group({address:["",[k.required]],reportType:["",[k.required]],structureType:["main"],primaryPitch:[""],secondaryPitch:[""],specialInstructions:[""]}),this.loadStructureCategoryFromStorage(),this.routeSubscription=this.activatedRoute.queryParams.subscribe(t=>{t.type&&this.loadStructureCategoryFromStorage()})}ngOnDestroy(){this.routeSubscription&&this.routeSubscription.unsubscribe()}loadStructureCategoryFromStorage(){let t=sessionStorage.getItem("selectedStructureType");if(t&&["basic","moderate","complex"].includes(t)){let e=t;(e!==this.selectedStructureCategory||!this.structureCategoryInfo)&&(this.selectedStructureCategory=e,this.loadPricingForCategory(this.selectedStructureCategory),this.selectedAddons.clear())}else this.structureCategoryInfo||this.loadPricingForCategory(this.selectedStructureCategory)}loadPricingForCategory(t){let e=this.pricingService.getPricingByCategory(t);e&&(this.structureCategoryInfo=e.category,this.reportTypes=e.reportTypes.map(r=>({id:r.id,name:r.name,description:r.description,price:r.price})),this.addons=e.addons.map(r=>({id:r.id,name:r.name,price:r.price,badge:r.badge})),this.orderForm&&this.reportTypes.length>0&&this.orderForm.patchValue({reportType:this.reportTypes[0].id}))}ngAfterViewInit(){setTimeout(()=>{this.initLeafletMap()},100)}initLeafletMap(){try{if(typeof L>"u"){console.warn("Leaflet not loaded. Map functionality will be limited.");return}if(!this.mapElement?.nativeElement){console.warn("Map element not found.");return}let t=[39.8283,-98.5795];this.map=L.map(this.mapElement.nativeElement,{center:t,zoom:4,zoomControl:!0}),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"\xA9 OpenStreetMap contributors",maxZoom:19}).addTo(this.map);let e=L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"\xA9 Esri",maxZoom:19}),r={"Street Map":L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"\xA9 OpenStreetMap contributors",maxZoom:19}),Satellite:e};L.control.layers(r).addTo(this.map);let a=L.divIcon({className:"custom-marker",html:'<div style="background:#ef4444;width:30px;height:30px;border-radius:50% 50% 50% 0;transform:rotate(-45deg);border:3px solid white;box-shadow:0 2px 5px rgba(0,0,0,0.3);"></div>',iconSize:[30,30],iconAnchor:[15,30]});this.marker=L.marker(t,{icon:a,draggable:!0}),this.marker.on("dragend",()=>{let d=this.marker.getLatLng();this.ngZone.run(()=>{this.updateLocationFromCoords(d.lat,d.lng)})}),this.map.on("click",d=>{this.ngZone.run(()=>{let{lat:b,lng:I}=d.latlng;this.placeMarker(b,I),this.updateLocationFromCoords(b,I)})})}catch(t){console.error("Error initializing Leaflet map:",t)}}placeMarker(t,e){!this.map||!this.marker||(this.map.hasLayer(this.marker)||this.marker.addTo(this.map),this.marker.setLatLng([t,e]),this.map.setView([t,e],Math.max(this.map.getZoom(),16)))}updateLocationFromCoords(t,e){let r=`https://nominatim.openstreetmap.org/reverse?format=json&lat=${t}&lon=${e}&addressdetails=1`;fetch(r).then(a=>a.json()).then(a=>{this.ngZone.run(()=>{if(a&&a.display_name){let d=a.display_name;this.orderForm.patchValue({address:d}),this.selectedLocation={lat:t,lng:e,address:d}}else this.selectedLocation={lat:t,lng:e,address:`${t.toFixed(6)}, ${e.toFixed(6)}`};this.locationConfirmed=!1})}).catch(()=>{this.ngZone.run(()=>{this.selectedLocation={lat:t,lng:e,address:`${t.toFixed(6)}, ${e.toFixed(6)}`},this.locationConfirmed=!1})})}searchAddress(){let t=this.orderForm.get("address")?.value;if(!t||t.length<3){this.searchResults=[],this.showSearchResults=!1;return}let e=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(t)}&countrycodes=us&limit=5`;fetch(e).then(r=>r.json()).then(r=>{this.ngZone.run(()=>{this.searchResults=r||[],this.showSearchResults=this.searchResults.length>0})}).catch(()=>{this.ngZone.run(()=>{this.searchResults=[],this.showSearchResults=!1})})}selectSearchResult(t){let e=parseFloat(t.lat),r=parseFloat(t.lon),a=t.display_name;this.orderForm.patchValue({address:a}),this.placeMarker(e,r),this.map.setView([e,r],18),this.selectedLocation={lat:e,lng:r,address:a},this.locationConfirmed=!1,this.searchResults=[],this.showSearchResults=!1}hideSearchResults(){setTimeout(()=>{this.showSearchResults=!1},200)}onAddressInput(t){this.locationConfirmed=!1}confirmLocation(){this.selectedLocation&&(this.locationConfirmed=!0)}toggleSection(t){this.expandedSections[t]=!this.expandedSections[t]}toggleAddon(t){this.selectedAddons.has(t.id)?this.selectedAddons.delete(t.id):this.selectedAddons.set(t.id,t)}isAddonSelected(t){return this.selectedAddons.has(t)}getSelectedReportType(){let t=this.orderForm.get("reportType")?.value;return this.reportTypes.find(e=>e.id===t)}getBasePrice(){return this.getSelectedReportType()?.price||0}getAddonsTotal(){let t=0;return this.selectedAddons.forEach(e=>{t+=e.price}),t}getTotalPrice(){return this.getBasePrice()+this.getAddonsTotal()}onFileSelect(t){let e=t.target;e.files&&(this.selectedFiles=Array.from(e.files))}removeFile(t){this.selectedFiles.splice(t,1)}onSubmit(){if(this.orderForm.invalid){this.markFormGroupTouched(this.orderForm);return}let t=this.getSelectedReportType();if(!t){this.errorMessage="Please select a report type";return}let e=this.orderForm.value,r=[];this.selectedAddons.forEach(d=>{r.push({id:d.id,name:d.name,price:d.price})});let a={address:e.address,location:this.selectedLocation,latitude:this.selectedLocation?.lat||null,longitude:this.selectedLocation?.lng||null,reportType:t,addons:r,structureCategory:this.selectedStructureCategory,structureCategoryName:this.structureCategoryInfo?.name||this.selectedStructureCategory,structureCategorySqRange:this.structureCategoryInfo?.sqRange||"",structureType:e.structureType,primaryPitch:e.primaryPitch,secondaryPitch:e.secondaryPitch,specialInstructions:e.specialInstructions,basePrice:this.getBasePrice(),addonsTotal:this.getAddonsTotal(),totalPrice:this.getTotalPrice()};sessionStorage.setItem("orderData",JSON.stringify(a)),this.router.navigate(["/dashboard/customer/order-review"])}addToCart(){this.onSubmit()}markFormGroupTouched(t){Object.keys(t.controls).forEach(e=>{t.get(e)?.markAsTouched()})}hasError(t,e){let r=this.orderForm.get(t);return!!(r&&r.hasError(e)&&r.touched)}getErrorMessage(t){let e=this.orderForm.get(t);return!e||!e.touched?"":e.hasError("required")?`${this.getFieldLabel(t)} is required`:""}getFieldLabel(t){return{address:"Address",reportType:"Report type"}[t]||t}cancel(){this.router.navigate(["/dashboard/customer/orders"])}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=F({type:o,selectors:[["app-new-order"]],viewQuery:function(e,r){if(e&1&&N(ne,5)(ie,5),e&2){let a;E(a=T())&&(r.mapElement=a.first),E(a=T())&&(r.addressInput=a.first)}},decls:9,vars:6,consts:[["addressInput",""],["mapElement",""],[1,"order-page"],[1,"page-header"],["class","structure-range",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-error",4,"ngIf"],["class","form-container",4,"ngIf"],[1,"structure-range"],[1,"loading-container"],[1,"loading-spinner"],[1,"alert","alert-success"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M22 11.08V12a10 10 0 1 1-5.93-9.14"],["points","22 4 12 14.01 9 11.01"],[1,"alert","alert-error"],["cx","12","cy","12","r","10"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"form-container"],[3,"ngSubmit","formGroup"],[1,"accordion-section","address-section"],[1,"accordion-header",3,"click"],[1,"section-title"],[1,"section-number"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"chevron"],["points","6 9 12 15 18 9"],["class","accordion-content",4,"ngIf"],[1,"accordion-section"],[1,"optional-badge"],[1,"form-footer"],[1,"total-left"],[1,"total-label"],[1,"total-amount"],[1,"footer-actions"],[1,"total-right"],["type","submit",1,"btn-checkout",3,"disabled"],[4,"ngIf"],["type","button",1,"btn-cart",3,"click","disabled"],[1,"accordion-content"],[1,"address-instruction"],[1,"address-search-container"],["type","text","formControlName","address","placeholder","Search for a location","autocomplete","off",3,"input","blur"],["class","search-results",4,"ngIf"],["class","error-text",4,"ngIf"],[1,"map-container"],[1,"google-map"],[1,"map-instruction"],["type","button",1,"btn-confirm-location",3,"click","disabled"],["width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",4,"ngIf"],[1,"search-results"],["class","search-result-item",3,"mousedown",4,"ngFor","ngForOf"],[1,"search-result-item",3,"mousedown"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"],["cx","12","cy","10","r","3"],[1,"error-text"],["width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["points","20 6 9 17 4 12"],[1,"report-options"],["class","report-option",3,"selected",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],[1,"report-option"],["type","radio","formControlName","reportType",3,"value"],[1,"option-content"],[1,"option-name"],[1,"option-desc"],[1,"option-price"],[1,"no-data"],[1,"addon-options"],["class","addon-option",3,"selected",4,"ngFor","ngForOf"],[1,"addon-option"],["type","checkbox",3,"change","checked"],[1,"addon-name"],["class","addon-badge",4,"ngIf"],[1,"addon-price"],[1,"addon-badge"],[1,"structure-type-options"],[1,"structure-type-option"],["type","radio","formControlName","structureType","value","main"],[1,"radio-circle"],[1,"option-label"],["type","radio","formControlName","structureType","value","main_and_garage"],[1,"pitch-inputs-grid"],[1,"pitch-field"],["type","text","formControlName","primaryPitch","placeholder","eg. 6/12"],["type","text","formControlName","secondaryPitch","placeholder","eg. 4/12"],["formControlName","specialInstructions","rows","3","placeholder","Add any notes, access details, or special requests here..."],[1,"file-upload-area"],[1,"upload-button-styled"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],["type","file","multiple","","accept",".jpg,.jpeg,.png,.pdf",3,"change"],[1,"file-types-badge"],["class","selected-files",4,"ngIf"],[1,"selected-files"],["class","file-item",4,"ngFor","ngForOf"],[1,"file-item"],[1,"file-info"],["d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"],["points","14 2 14 8 20 8"],["type","button",1,"remove-file",3,"click"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"]],template:function(e,r){e&1&&(n(0,"div",2)(1,"div",3)(2,"h1"),s(3),i(),g(4,re,2,1,"p",4),i(),g(5,oe,4,0,"div",5)(6,ae,6,1,"div",6)(7,ce,7,1,"div",7)(8,Te,97,28,"div",8),i()),e&2&&(c(3),C((r.structureCategoryInfo==null?null:r.structureCategoryInfo.name)||"New Order"),c(),l("ngIf",r.structureCategoryInfo),c(),l("ngIf",r.loadingPricing),c(),l("ngIf",r.successMessage),c(),l("ngIf",r.errorMessage),c(),l("ngIf",!r.loadingPricing))},dependencies:[X,V,D,J,B,j,W,H,U,Q,Z],styles:['.order-page[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;background:#f8fafc;min-height:100vh}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e3a5f,#2d4a6f,#1e3a5f);padding:2rem;text-align:center;margin-bottom:0}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:1.75rem;font-weight:600;margin:0;letter-spacing:.5px}.page-header[_ngcontent-%COMP%]   .structure-range[_ngcontent-%COMP%]{color:#ffffffd9;font-size:1rem;margin:.5rem 0 0;font-weight:500;display:inline-flex;align-items:center;gap:.5rem;padding:.375rem 1rem;background:#ffffff26;border-radius:2rem}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;background:#fff;margin:1rem;border-radius:.5rem}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;color:#64748b;font-size:.875rem}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #e2e8f0;border-top-color:#3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.no-data[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:#64748b;font-size:.875rem;background:#f8fafc;border-radius:.375rem}.alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem 1.5rem;margin:1rem;border-radius:.5rem}.alert[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{flex-shrink:0}.alert.alert-success[_ngcontent-%COMP%]{background-color:#f0fdf4;border:1px solid #bbf7d0;color:#166534}.alert.alert-error[_ngcontent-%COMP%]{background-color:#fef2f2;border:1px solid #fecaca;color:#dc2626}.form-container[_ngcontent-%COMP%]{background:#f8fafc;padding:1rem}@media(max-width:768px){.form-container[_ngcontent-%COMP%]{padding:.5rem}}.accordion-section[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:.5rem;margin-bottom:.75rem;overflow:hidden}.accordion-section.half-width[_ngcontent-%COMP%]{display:inline-block;width:calc(50% - .375rem);vertical-align:top}.accordion-section.half-width[_ngcontent-%COMP%]:nth-of-type(odd){margin-right:.75rem}@media(max-width:768px){.accordion-section.half-width[_ngcontent-%COMP%]{display:block;width:100%;margin-right:0}}.accordion-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.25rem;cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .2s}.accordion-header[_ngcontent-%COMP%]:hover{background-color:#f8fafc}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-weight:500;color:#1e3a5f}.section-number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:#3b82f6;color:#fff;border-radius:50%;font-size:.75rem;font-weight:600}.optional-badge[_ngcontent-%COMP%]{color:#3b82f6;font-weight:400;font-size:.875rem}.chevron[_ngcontent-%COMP%]{color:#64748b;transition:transform .2s}.chevron.expanded[_ngcontent-%COMP%]{transform:rotate(180deg)}.accordion-content[_ngcontent-%COMP%]{padding:1rem 1.25rem 1.25rem;border-top:1px solid #e2e8f0}input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:1px solid #e2e8f0;border-radius:.375rem;font-size:.875rem;font-family:inherit;transition:border-color .2s,box-shadow .2s}input[type=text][_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{color:#94a3b8}input[type=text][_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}input[type=text].error[_ngcontent-%COMP%], textarea.error[_ngcontent-%COMP%]{border-color:#dc2626}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.error-text[_ngcontent-%COMP%]{display:block;margin-top:.5rem;font-size:.75rem;color:#dc2626}.address-section[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0891b2,#0e7490)}.address-section[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:#fff}.address-section[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   .section-number[_ngcontent-%COMP%]{background:#fff;color:#0891b2}.address-section[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]   .chevron[_ngcontent-%COMP%]{color:#fff}.address-section[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#0e7490,#0891b2)}.address-instruction[_ngcontent-%COMP%]{margin:0 0 1rem;color:#475569;font-size:.875rem}.address-search-container[_ngcontent-%COMP%]{margin-bottom:1rem;position:relative}.address-search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #e2e8f0;border-radius:.5rem;font-size:.9375rem;background:#f8fafc}.address-search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background:#fff;border-color:#0891b2;box-shadow:0 0 0 3px #0891b21a}.search-results[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;border:1px solid #e2e8f0;border-radius:.5rem;box-shadow:0 4px 12px #0000001a;z-index:1000;max-height:250px;overflow-y:auto;margin-top:4px}.search-result-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;padding:.75rem 1rem;cursor:pointer;transition:background-color .2s;border-bottom:1px solid #f1f5f9}.search-result-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.search-result-item[_ngcontent-%COMP%]:hover{background-color:#f0fdfa}.search-result-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{flex-shrink:0;margin-top:2px;color:#0891b2}.search-result-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:#334155;line-height:1.4}.map-container[_ngcontent-%COMP%]{position:relative;width:100%;height:400px;border-radius:.5rem;overflow:hidden;margin-bottom:1rem;border:1px solid #e2e8f0;z-index:1}@media(max-width:768px){.map-container[_ngcontent-%COMP%]{height:300px}}.google-map[_ngcontent-%COMP%]{width:100%;height:100%}.leaflet-container[_ngcontent-%COMP%]{width:100%;height:100%;font-family:inherit;z-index:1!important}[_nghost-%COMP%]     .leaflet-pane{z-index:1!important}[_nghost-%COMP%]     .leaflet-tile-pane{z-index:1!important}[_nghost-%COMP%]     .leaflet-overlay-pane{z-index:2!important}[_nghost-%COMP%]     .leaflet-shadow-pane{z-index:3!important}[_nghost-%COMP%]     .leaflet-marker-pane{z-index:4!important}[_nghost-%COMP%]     .leaflet-tooltip-pane{z-index:5!important}[_nghost-%COMP%]     .leaflet-popup-pane{z-index:6!important}[_nghost-%COMP%]     .leaflet-control{z-index:10!important}[_nghost-%COMP%]     .leaflet-top, [_nghost-%COMP%]     .leaflet-bottom{z-index:10!important}.custom-marker[_ngcontent-%COMP%]{background:transparent!important;border:none!important}.leaflet-control-layers[_ngcontent-%COMP%]{border-radius:.375rem;box-shadow:0 2px 6px #00000026}.map-instruction[_ngcontent-%COMP%]{margin:0 0 1rem;color:#0891b2;font-size:.875rem;font-style:italic}.btn-confirm-location[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;width:100%;padding:.875rem 1.5rem;background:linear-gradient(135deg,#0891b2,#0e7490);color:#fff;border:none;border-radius:.5rem;font-weight:600;font-size:.9375rem;cursor:pointer;transition:all .2s ease}.btn-confirm-location[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#0e7490,#0891b2);transform:translateY(-1px);box-shadow:0 4px 12px #0891b24d}.btn-confirm-location[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-confirm-location.confirmed[_ngcontent-%COMP%]{background:linear-gradient(135deg,#059669,#047857)}.btn-confirm-location.confirmed[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#047857,#059669);box-shadow:0 4px 12px #0596694d}.btn-confirm-location[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{flex-shrink:0}.report-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0}.report-option[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.75rem 0;cursor:pointer;transition:all .2s;background:transparent;border:none}.report-option[_ngcontent-%COMP%]:hover   .option-name[_ngcontent-%COMP%]{color:#3b82f6}.report-option.selected[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{border-color:#3b82f6}.report-option.selected[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:before{opacity:1;transform:scale(1)}.report-option.selected[_ngcontent-%COMP%]   .option-name[_ngcontent-%COMP%]{color:#1e293b;font-weight:500}.report-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;width:20px;height:20px;border:2px solid #cbd5e1;border-radius:50%;margin-right:.75rem;cursor:pointer;position:relative;flex-shrink:0;transition:border-color .2s}.report-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) scale(0);width:10px;height:10px;background:#3b82f6;border-radius:50%;opacity:0;transition:all .2s}.report-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked{border-color:#3b82f6}.report-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked:before{opacity:1;transform:translate(-50%,-50%) scale(1)}.report-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:.5rem}.report-option[_ngcontent-%COMP%]   .option-name[_ngcontent-%COMP%]{font-size:.9375rem;color:#1e293b;transition:color .2s}.report-option[_ngcontent-%COMP%]   .option-desc[_ngcontent-%COMP%]{color:#94a3b8;font-size:.8125rem}.report-option[_ngcontent-%COMP%]   .option-price[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;font-size:.9375rem}.addon-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.addon-option[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.75rem 0;cursor:pointer}.addon-option[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;margin-right:1rem;accent-color:#3b82f6;cursor:pointer}.addon-option[_ngcontent-%COMP%]   .addon-name[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:.5rem;color:#1e293b}.addon-option[_ngcontent-%COMP%]   .addon-badge[_ngcontent-%COMP%]{display:inline-block;padding:.125rem .5rem;background:#1e293b;color:#fff;font-size:.625rem;font-weight:700;border-radius:.25rem;text-transform:uppercase;letter-spacing:.5px}.addon-option[_ngcontent-%COMP%]   .addon-price[_ngcontent-%COMP%]{font-weight:600;color:#1e293b}.structure-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.structure-option[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem 0;cursor:pointer}.structure-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{width:18px;height:18px;margin-right:.75rem;accent-color:#3b82f6;cursor:pointer}.structure-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1e293b}.structure-option.selected[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.structure-type-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0}.structure-type-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem 0;cursor:pointer;transition:all .2s;background:transparent;border:none}.structure-type-option[_ngcontent-%COMP%]:hover   .option-label[_ngcontent-%COMP%]{color:#3b82f6}.structure-type-option.selected[_ngcontent-%COMP%]   .radio-circle[_ngcontent-%COMP%]{border-color:#3b82f6}.structure-type-option.selected[_ngcontent-%COMP%]   .radio-circle[_ngcontent-%COMP%]:after{opacity:1;transform:scale(1)}.structure-type-option.selected[_ngcontent-%COMP%]   .option-label[_ngcontent-%COMP%]{color:#1e293b;font-weight:500}.structure-type-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}.structure-type-option[_ngcontent-%COMP%]   .radio-circle[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #cbd5e1;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:border-color .2s;flex-shrink:0}.structure-type-option[_ngcontent-%COMP%]   .radio-circle[_ngcontent-%COMP%]:after{content:"";width:10px;height:10px;background:#3b82f6;border-radius:50%;opacity:0;transform:scale(0);transition:all .2s}.structure-type-option[_ngcontent-%COMP%]   .option-label[_ngcontent-%COMP%]{font-size:.9375rem;color:#1e293b;transition:color .2s}.pitch-inputs-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.pitch-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#475569;margin-bottom:.5rem}.pitch-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #e2e8f0;border-radius:.5rem;font-size:.9375rem;background:#f8fafc;transition:all .2s}.pitch-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.pitch-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background:#fff;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a;outline:none}.file-upload-area[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex-wrap:wrap}.upload-button-styled[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.625rem 1rem;background:#fff;border:1px solid #e2e8f0;border-radius:.5rem;cursor:pointer;font-size:.875rem;color:#1e293b;transition:all .2s;box-shadow:0 1px 2px #0000000d}.upload-button-styled[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#3b82f6;color:#3b82f6}.upload-button-styled[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{color:#3b82f6}.upload-button-styled[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.upload-button-styled[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#64748b;transition:color .2s}.file-types-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.375rem .75rem;background:#f1f5f9;border-radius:1rem;font-size:.75rem;color:#64748b;font-weight:500}.selected-files[_ngcontent-%COMP%]{margin-top:1rem;display:flex;flex-direction:column;gap:.5rem}.file-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;background:#f8fafc;border:1px solid #e2e8f0;border-radius:.5rem;font-size:.875rem;color:#1e293b}.file-item[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem}.file-item[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#3b82f6;flex-shrink:0}.file-item[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media(max-width:480px){.file-item[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{max-width:150px}}.remove-file[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.375rem;background:none;border:none;cursor:pointer;color:#94a3b8;border-radius:.25rem;transition:all .2s}.remove-file[_ngcontent-%COMP%]:hover{color:#dc2626;background:#fef2f2}.form-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:1rem;padding:1.5rem 1rem;background:#fff;border-top:1px solid #e2e8f0;margin-top:1rem}@media(max-width:768px){.form-footer[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}.total-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}@media(max-width:768px){.total-left[_ngcontent-%COMP%]{justify-content:center}}.total-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}@media(max-width:768px){.total-right[_ngcontent-%COMP%]{display:none}}.total-label[_ngcontent-%COMP%]{font-weight:500;color:#1e293b}.total-amount[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1e293b}.footer-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}@media(max-width:768px){.footer-actions[_ngcontent-%COMP%]{flex-direction:column;width:100%}}.btn-checkout[_ngcontent-%COMP%]{padding:.875rem 1.5rem;background:#1e3a5f;color:#fff;border:none;border-radius:.375rem;font-weight:600;font-size:.875rem;cursor:pointer;transition:all .2s}.btn-checkout[_ngcontent-%COMP%]:hover:not(:disabled){background:#2d4a6f}.btn-checkout[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media(max-width:768px){.btn-checkout[_ngcontent-%COMP%]{width:100%}}.btn-cart[_ngcontent-%COMP%]{padding:.875rem 1.5rem;background:#1e3a5f;color:#fff;border:none;border-radius:.375rem;font-weight:600;font-size:.875rem;cursor:pointer;transition:all .2s}.btn-cart[_ngcontent-%COMP%]:hover:not(:disabled){background:#2d4a6f}.btn-cart[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media(max-width:768px){.btn-cart[_ngcontent-%COMP%]{width:100%}}']})};export{ee as NewOrder};
