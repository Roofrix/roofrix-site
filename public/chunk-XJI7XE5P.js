import{b as N,d as A}from"./chunk-6VCXNJ72.js";import{f as I,g as T,h as D,j as k,k as z}from"./chunk-BDAGTHR3.js";import{$a as S,Ga as h,La as p,P as u,Sa as d,Ta as e,U as O,Ua as n,V as P,Va as c,W as g,X as x,Za as y,_a as M,ab as v,cb as s,hb as w,jb as i,kb as l,lb as f,mb as E,sb as b,tb as C,ua as o}from"./chunk-U4S3JRSN.js";function F(r,a){r&1&&(e(0,"div",8),c(1,"div",9),e(2,"p"),i(3,"Loading order details..."),n()())}function H(r,a){if(r&1){let t=S();e(0,"div",10),g(),e(1,"svg",11),c(2,"circle",12)(3,"line",13)(4,"line",14),n(),x(),e(5,"h3"),i(6),n(),e(7,"button",15),v("click",function(){O(t);let _=s();return P(_.goBack())}),i(8,"Go Back"),n()()}if(r&2){let t=s();o(6),l(t.error)}}function L(r,a){if(r&1&&(e(0,"div",50)(1,"span",51),i(2),b(3,"titlecase"),n()()),r&2){let t=s(2);o(),d("ngClass",t.getPriorityClass(t.order.priority)),o(),f(" ",C(3,2,t.order.priority)," Priority ")}}function B(r,a){if(r&1&&(e(0,"div",28)(1,"span",29),i(2,"Primary Pitch"),n(),e(3,"span",30),i(4),n()()),r&2){let t=s(2);o(4),l(t.order.primaryPitch)}}function V(r,a){if(r&1&&(e(0,"div",28)(1,"span",29),i(2,"Secondary Pitch"),n(),e(3,"span",30),i(4),n()()),r&2){let t=s(2);o(4),l(t.order.secondaryPitch)}}function G(r,a){if(r&1&&(e(0,"li"),i(1),n()),r&2){let t=a.$implicit;o(),E(" ",t.name," - $",t.price.toFixed(2)," ")}}function R(r,a){if(r&1&&(e(0,"div",52)(1,"span",29),i(2,"Addons"),n(),e(3,"ul"),p(4,G,2,2,"li",53),n()()),r&2){let t=s(2);o(4),d("ngForOf",t.order.addons)}}function $(r,a){r&1&&(e(0,"div",28)(1,"span",29),i(2,"Addons"),n(),e(3,"span",30),i(4,"No addons selected"),n()())}function U(r,a){if(r&1&&(e(0,"div",39)(1,"span"),i(2,"Addons Total"),n(),e(3,"span"),i(4),n()()),r&2){let t=s(2);o(4),f("$",(t.order.addonsTotal||0).toFixed(2))}}function J(r,a){if(r&1&&(e(0,"div",54)(1,"div",24),g(),e(2,"svg",3),c(3,"path",55)(4,"path",56),n(),x(),e(5,"h3"),i(6,"Special Instructions"),n()(),e(7,"div",27)(8,"p"),i(9),n()()()),r&2){let t=s(2);o(9),l(t.order.specialInstructions)}}function q(r,a){if(r&1&&(e(0,"p",65),i(1),n()),r&2){let t=s().$implicit;o(),l(t.notes)}}function K(r,a){if(r&1&&(e(0,"div",57),c(1,"div",58),e(2,"div",59)(3,"div",60)(4,"span",61),i(5),n()(),e(6,"p",62),i(7),n(),p(8,q,2,1,"p",63),e(9,"p",64),i(10),n()()()),r&2){let t=a.$implicit,m=a.last,_=s(2);w("active",m),o(4),d("ngClass",_.getStatusClass(t.status)),o(),f(" ",_.getStatusLabel(t.status)," "),o(2),l(_.formatShortDate(t.changedAt)),o(),d("ngIf",t.notes),o(2),f("By: ",t.changedByEmail)}}function Q(r,a){if(r&1&&(e(0,"div",66)(1,"div",24),g(),e(2,"svg",3),c(3,"path",67)(4,"circle",68)(5,"path",69)(6,"path",70),n(),x(),e(7,"h3"),i(8,"Assigned Designer"),n()(),e(9,"div",27)(10,"p"),i(11),n()()()),r&2){let t=s(2);o(11),l(t.order.assignedDesignerEmail)}}function W(r,a){if(r&1&&(y(0),e(1,"div",16)(2,"div",17)(3,"div")(4,"h1",18),i(5),n(),e(6,"p",19),i(7),n()(),e(8,"span",20),i(9),n()(),p(10,L,4,4,"div",21),n(),e(11,"div",22)(12,"div",23)(13,"div",24),g(),e(14,"svg",3),c(15,"path",25)(16,"polyline",26),n(),x(),e(17,"h3"),i(18,"Project Information"),n()(),e(19,"div",27)(20,"div",28)(21,"span",29),i(22,"Project Name"),n(),e(23,"span",30),i(24),n()(),e(25,"div",28)(26,"span",29),i(27,"Address"),n(),e(28,"span",30),i(29),n()(),e(30,"div",28)(31,"span",29),i(32,"Structure Type"),n(),e(33,"span",30),i(34),b(35,"titlecase"),n()(),p(36,B,5,1,"div",31)(37,V,5,1,"div",31),n()(),e(38,"div",23)(39,"div",24),g(),e(40,"svg",3),c(41,"path",32)(42,"polyline",33)(43,"line",34)(44,"line",35),n(),x(),e(45,"h3"),i(46,"Report & Addons"),n()(),e(47,"div",27)(48,"div",28)(49,"span",29),i(50,"Report Type"),n(),e(51,"span",30),i(52),n()(),p(53,R,5,1,"div",36)(54,$,5,0,"div",31),n()(),e(55,"div",23)(56,"div",24),g(),e(57,"svg",3),c(58,"line",37)(59,"path",38),n(),x(),e(60,"h3"),i(61,"Pricing Summary"),n()(),e(62,"div",27)(63,"div",39)(64,"span"),i(65,"Base Price"),n(),e(66,"span"),i(67),n()(),p(68,U,5,1,"div",40),e(69,"div",41)(70,"span"),i(71,"Total"),n(),e(72,"span"),i(73),n()()()(),e(74,"div",23)(75,"div",24),g(),e(76,"svg",3),c(77,"path",42)(78,"circle",43),n(),x(),e(79,"h3"),i(80,"Customer Information"),n()(),e(81,"div",27)(82,"div",28)(83,"span",29),i(84,"Name"),n(),e(85,"span",30),i(86),n()(),e(87,"div",28)(88,"span",29),i(89,"Email"),n(),e(90,"span",30),i(91),n()()()()(),p(92,J,10,1,"div",44),e(93,"div",45)(94,"div",24),g(),e(95,"svg",3),c(96,"circle",12)(97,"polyline",46),n(),x(),e(98,"h3"),i(99,"Status Timeline"),n()(),e(100,"div",27)(101,"div",47),p(102,K,11,7,"div",48),n()()(),p(103,Q,12,1,"div",49),M()),r&2){let t=s();o(5),l(t.order.orderNumber),o(2),f("Placed on ",t.formatDate(t.order.createdAt)),o(),d("ngClass",t.getStatusClass(t.order.status)),o(),f(" ",t.getStatusLabel(t.order.status)," "),o(),d("ngIf",t.order.priority),o(14),l(t.order.projectName||"N/A"),o(5),l(t.order.projectAddress),o(5),l(C(35,21,t.order.structureType)),o(2),d("ngIf",t.order.primaryPitch),o(),d("ngIf",t.order.secondaryPitch),o(15),l(t.order.reportType.name||"N/A"),o(),d("ngIf",t.order.addons&&t.order.addons.length>0),o(),d("ngIf",!t.order.addons||t.order.addons.length===0),o(13),f("$",(t.order.basePrice||0).toFixed(2)),o(),d("ngIf",t.order.addonsTotal>0),o(5),f("$",(t.order.totalPrice||0).toFixed(2)),o(13),l(t.order.customerName),o(5),l(t.order.customerEmail),o(),d("ngIf",t.order.specialInstructions),o(10),d("ngForOf",t.order.statusTimeline),o(),d("ngIf",t.order.assignedDesignerId)}}var j=class r{router=u(A);route=u(N);order=null;loading=!0;error="";ngOnInit(){let a=this.route.snapshot.paramMap.get("orderId");a?this.loadOrder(a):(this.error="Order ID not found",this.loading=!1)}loadOrder(a){setTimeout(()=>{this.order={id:a,orderNumber:"ORD-2024-"+a.slice(-6).toUpperCase(),projectName:"Standard Report - 123 Main Street",projectAddress:"123 Main Street, City, State 12345",structureType:"residential",primaryPitch:"6/12",reportType:{id:"standard",name:"Standard Report",price:25},addons:[{id:"addon_1",name:"Gutter Measurements",price:10},{id:"addon_3",name:"Satellite Imagery",price:20}],basePrice:25,addonsTotal:30,totalPrice:55,status:"pending",priority:"medium",customerName:"John Doe",customerEmail:"john@example.com",specialInstructions:"Please include detailed measurements for the garage roof section.",createdAt:new Date,statusTimeline:[{status:"pending",changedAt:new Date,changedByEmail:"john@example.com",notes:"Order created"}]},this.loading=!1},300)}goBack(){this.router.navigate(["/dashboard/customer/orders"])}getStatusClass(a){return{pending:"status-pending",in_progress:"status-in-progress",review:"status-review",completed:"status-completed",cancelled:"status-cancelled"}[a]||"status-pending"}getStatusLabel(a){return{pending:"Pending",in_progress:"In Progress",review:"Under Review",completed:"Completed",cancelled:"Cancelled"}[a]||a}formatDate(a){if(!a)return"N/A";try{let t=a.toDate?a.toDate():new Date(a);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}catch{return"N/A"}}formatShortDate(a){if(!a)return"N/A";try{let t=a.toDate?a.toDate():new Date(a);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}catch{return"N/A"}}getPriorityClass(a){return a==="high"?"priority-high":a==="medium"?"priority-medium":"priority-low"}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=h({type:r,selectors:[["app-order-detail"]],decls:9,vars:3,consts:[[1,"order-detail-page"],[1,"page-header"],[1,"btn-back",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["points","15 18 9 12 15 6"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],[4,"ngIf"],[1,"loading-container"],[1,"spinner"],[1,"error-container"],["width","48","height","48","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","12","cy","12","r","10"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"btn-primary",3,"click"],[1,"order-header-card"],[1,"order-title-row"],[1,"order-number"],[1,"order-date"],[1,"status-badge",3,"ngClass"],["class","priority-row",4,"ngIf"],[1,"details-grid"],[1,"detail-card"],[1,"card-header"],["d","M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"],["points","9 22 9 12 15 12 15 22"],[1,"card-body"],[1,"info-row"],[1,"label"],[1,"value"],["class","info-row",4,"ngIf"],["d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["class","addons-list",4,"ngIf"],["x1","12","y1","1","x2","12","y2","23"],["d","M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"],[1,"price-row"],["class","price-row",4,"ngIf"],[1,"price-row","total"],["d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],["class","instructions-card",4,"ngIf"],[1,"timeline-card"],["points","12 6 12 12 16 14"],[1,"timeline"],["class","timeline-item",3,"active",4,"ngFor","ngForOf"],["class","designer-card",4,"ngIf"],[1,"priority-row"],[1,"priority-badge",3,"ngClass"],[1,"addons-list"],[4,"ngFor","ngForOf"],[1,"instructions-card"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],[1,"timeline-item"],[1,"timeline-dot"],[1,"timeline-content"],[1,"timeline-status"],[1,"status-badge","small",3,"ngClass"],[1,"timeline-date"],["class","timeline-notes",4,"ngIf"],[1,"timeline-by"],[1,"timeline-notes"],[1,"designer-card"],["d","M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["d","M23 21v-2a4 4 0 0 0-3-3.87"],["d","M16 3.13a4 4 0 0 1 0 7.75"]],template:function(t,m){t&1&&(e(0,"div",0)(1,"div",1)(2,"button",2),v("click",function(){return m.goBack()}),g(),e(3,"svg",3),c(4,"polyline",4),n(),i(5," Back to Orders "),n()(),p(6,F,4,0,"div",5)(7,H,9,1,"div",6)(8,W,104,23,"ng-container",7),n()),t&2&&(o(6),d("ngIf",m.loading),o(),d("ngIf",m.error&&!m.loading),o(),d("ngIf",m.order&&!m.loading&&!m.error))},dependencies:[z,I,T,D,k],styles:['@charset "UTF-8";.order-detail-page[_ngcontent-%COMP%]{padding:24px;max-width:1000px;margin:0 auto}.page-header[_ngcontent-%COMP%]{margin-bottom:24px}.btn-back[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;background:none;border:none;color:#3b82f6;font-size:14px;font-weight:500;cursor:pointer;padding:0}.btn-back[_ngcontent-%COMP%]:hover{color:#2563eb}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px}.loading-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #e2e8f0;border-top-color:#3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:#64748b;font-size:14px}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}.error-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:#ef4444;margin-bottom:16px}.error-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;color:#1e293b;margin-bottom:20px}.btn-primary[_ngcontent-%COMP%]{padding:12px 24px;background:linear-gradient(135deg,#1e3a5f,#2d4a6f);color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2d4a6f,#3d5a7f)}.order-header-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;box-shadow:0 2px 8px #00000014;margin-bottom:24px}.order-title-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:16px;flex-wrap:wrap}.order-number[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1e293b;margin-bottom:4px}.order-date[_ngcontent-%COMP%]{font-size:14px;color:#64748b}.priority-row[_ngcontent-%COMP%]{margin-top:16px}.priority-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:20px;font-size:12px;font-weight:600}.priority-badge.priority-high[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.priority-badge.priority-medium[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.priority-badge.priority-low[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:6px 14px;border-radius:20px;font-size:13px;font-weight:600}.status-badge.small[_ngcontent-%COMP%]{padding:4px 10px;font-size:11px}.status-badge.status-pending[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.status-badge.status-in-progress[_ngcontent-%COMP%]{background:#dbeafe;color:#2563eb}.status-badge.status-review[_ngcontent-%COMP%]{background:#f3e8ff;color:#9333ea}.status-badge.status-completed[_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.status-badge.status-cancelled[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-bottom:20px}@media(max-width:768px){.details-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.detail-card[_ngcontent-%COMP%], .instructions-card[_ngcontent-%COMP%], .timeline-card[_ngcontent-%COMP%], .designer-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #00000014;overflow:hidden}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:16px 20px;background:#f8fafc;border-bottom:1px solid #e2e8f0}.card-header[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:#3b82f6}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#1e293b}.card-body[_ngcontent-%COMP%]{padding:20px}.info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:10px 0;border-bottom:1px solid #f1f5f9}.info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:13px;color:#64748b;font-weight:500}.info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:14px;color:#1e293b;font-weight:500;text-align:right;max-width:60%}.addons-list[_ngcontent-%COMP%]{padding:10px 0}.addons-list[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;font-size:13px;color:#64748b;font-weight:500;margin-bottom:8px}.addons-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.addons-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;color:#1e293b;padding:6px 0 6px 16px;position:relative}.addons-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2022";position:absolute;left:0;color:#3b82f6}.price-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px 0;font-size:14px;color:#475569;border-bottom:1px solid #f1f5f9}.price-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.price-row.total[_ngcontent-%COMP%]{border-top:2px solid #e2e8f0;margin-top:8px;padding-top:14px;font-size:18px;font-weight:700;color:#1e293b}.price-row.total[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{color:#3b82f6}.instructions-card[_ngcontent-%COMP%]{margin-bottom:20px}.instructions-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#475569;line-height:1.6}.timeline-card[_ngcontent-%COMP%]{margin-bottom:20px}.timeline[_ngcontent-%COMP%]{position:relative;padding-left:24px}.timeline[_ngcontent-%COMP%]:before{content:"";position:absolute;left:7px;top:8px;bottom:8px;width:2px;background:#e2e8f0}.timeline-item[_ngcontent-%COMP%]{position:relative;padding-bottom:20px}.timeline-item[_ngcontent-%COMP%]:last-child{padding-bottom:0}.timeline-item.active[_ngcontent-%COMP%]   .timeline-dot[_ngcontent-%COMP%]{background:#3b82f6;box-shadow:0 0 0 4px #3b82f633}.timeline-dot[_ngcontent-%COMP%]{position:absolute;left:-20px;top:4px;width:12px;height:12px;border-radius:50%;background:#cbd5e1;border:2px solid white}.timeline-content[_ngcontent-%COMP%]{padding-left:8px}.timeline-status[_ngcontent-%COMP%]{margin-bottom:6px}.timeline-date[_ngcontent-%COMP%]{font-size:12px;color:#64748b;margin-bottom:4px}.timeline-notes[_ngcontent-%COMP%]{font-size:13px;color:#475569;margin-bottom:4px}.timeline-by[_ngcontent-%COMP%]{font-size:11px;color:#94a3b8}.designer-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#1e293b}@media(max-width:600px){.order-detail-page[_ngcontent-%COMP%], .order-header-card[_ngcontent-%COMP%]{padding:16px}.order-number[_ngcontent-%COMP%]{font-size:20px}.order-title-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.info-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:4px}.info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{text-align:left;max-width:100%}}']})};export{j as OrderDetail};
